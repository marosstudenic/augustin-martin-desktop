---
const kresba = {
  title: "Červené Záhrady",
  description: "kresba, koláž, plátkové zlato",
  date: "2021",
  image: "welcome-images/cervene_zahrady.jpg",
};

const malba = {
  title: "Z jedného hniezda",
  description: "akryl na plátne",
  date: "2019",
  image: "cas_plynie/z_jedneho_miesta.jpg",
};
---

<style>

</style>
<section id="tvorba" class="px-4 py-8 md:flex gap-18">
  <div class="kresba flex-1 md:pr-40 pb-8">
    <h2 class="text-gray-500 text-xl font-medium mb-2">Kresba</h2>
    <div class="items w-full">
      <div class="item overflow-hidden" id="kresba">
        <img
          src={"/assets/" + kresba.image}
          alt={kresba.title}
          class="w-full object-cover modal-src rounded-md"
        />
        <h3 class="text-gray-500 font-medium mt-2">{kresba.title}</h3>

        <div class="flex justify-between items-center">
          <p class="text-gray-500 text-sm" id="kresba-description">
            {kresba.description} | {kresba.date}
          </p>
          <button
            class="text-gray-500 text-sm hover-underline-animation"
            id="next-kresba"
          >
            nasledujúca
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="malba flex-1 md:pr-40">
    <h2 class="text-gray-500 text-xl font-medium mb-2">Maľba</h2>
    <div class="items w-full">
      <div class="item overflow-y-hidden" id="malba">
        <img
          src={"/assets/" + malba.image}
          alt={malba.title}
          class="w-full object-cover modal-src rounded-md"
        />
        <h3 class="text-gray-500 font-medium mt-2">{malba.title}</h3>

        <div class="flex justify-between items-center">
          <p class="text-gray-500 text-sm" id="malba-description">
            {malba.description} | {malba.date}
          </p>
          <button
            class="text-gray-500 text-sm hover-underline-animation"
            id="next-malba"
          >
            nasledujúca
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // function getImageUrl(name) {
  //   return new URL(`../assets/images/${name}`, import.meta.url).href;
  // }

  const kresba = [
    {
      title: "Červené Záhrady",
      description: "kresba, koláž, plátkové zlato",
      date: "2021",
      image: "welcome-images/cervene_zahrady.jpg",
    },
    {
      title: "V Snoch ukryté...",
      description: "kresba, koláž, plátkové zlato",
      date: "2021",
      image: "novinky/v_snoch_ukryte.jpg",
    },
    {
      title: "Pieseň pre vtáčika",
      description: "kresba, koláž, plátkové zlato",
      date: "2021",
      image: "novinky/piesen_pre_vtacika.jpg",
    },
    {
      title: "Podrž si šťastie v dlaniach",
      description: "kresba, koláž na japonskom papieri",
      date: "2021",
      image: "novinky/podrz_si_stastie_v_dlaniach.jpg",
    },
    {
      title: "M.Augustin_23_153 web",
      description: "kresba a koláž na farebnom papieri, zlatá fólia",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_153 web.jpg",
    },
    {
      title: "M.Augustin_23_156 web",
      description: "kresba a koláž na farebnom papieri, zlatá fólia",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_156 web.jpg",
    },
    {
      title: "M.Augustin_23__198W",
      description: "kresba a koláž na japonskom papieri",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23__198W.jpg",
    },
    {
      title: "M.Augustin 23_206_W",
      description: "kresba a koláž na japonskom papieri",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_206_W.jpg",
    },
    {
      title: "M.Augustin 23_210_W",
      description: "kresba a koláž na japonskom papieri",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_210_W.jpg",
    },
    {
      title: "M.Augustin 23_212_W",
      description: "kresba a koláž na japonskom papieri",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_212_W.jpg",
    },
    {
      title: "M.Augustin 23_220_W",
      description: "kresba a koláž na japonskom papieri",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_220_W.jpg",
    },
    {
      title: "M.Augustin 23_222_W",
      description: "kresba a koláž na japonskom papieri",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_222_W.jpg",
    },
    {
      title: "M.Augustin 23_247_W",
      description: "kresba a koláž na japonskom papieri",
      date: "2023",
      image: "tvorba/kresba/M.Augustin_23_247_W.jpg",
    },
  ];

  const malba = [
    {
      title: "Z jedného hniezda",
      description: "akryl na plátne",
      date: "2019",
      image: "cas_plynie/z_jedneho_miesta.jpg",
    },
    {
      title: "Z hĺbky duše",
      description: "akryl na plátne",
      date: "2018",
      image: "cas_plynie/z_hlbky_duse.jpg",
    },
    {
      title: "Odpúšťam",
      description: "akryl, olej na lipovom dreve",
      date: "2019",
      image: "novinky/odpusta.jpg",
    },
    {
      title: "Nečakám ťa na kolenách",
      description: "akryl, olej na lipovom dreve",
      date: "2020",
      image: "cas_plynie/necakam_ta_na_kolenach_1.jpg",
    },

    {
      title: "Madona",
      description: "akryl na lipovom dreve",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_262W.jpg",
    },
    {
      title: "Biela Madona",
      description: "akryl na lipovom dreve",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_270W.jpg",
    },
    {
      title: "Ježiš",
      description: "akryl na lipovom dreve",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_268W.jpg",
    },
    {
      title: "Anjel strážny",
      description: "akryl na lipovom dreve",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_264W.jpg",
    },
    {
      title: "Sv. Mária Magdaléna",
      description: "akryl na lipovom dreve",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_258W.jpg",
    },

    {
      title: "M.Augustin 23_267_W",
      description: "akryl na plátne",
      date: "2023",
      image: "tvorba/malba/M.Augustin 23_267_W.jpg",
    },
    {
      title: "M.Augustin 23_270_W",
      description: "akryl na plátne",
      date: "2023",
      image: "tvorba/malba/M.Augustin 23_270_W.jpg",
    },
    {
      title: "M.Augustin 23_276_W",
      description: "akryl na plátne",
      date: "2023",
      image: "tvorba/malba/M.Augustin 23_276_W.jpg",
    },
    {
      title: "M.Augustin_23_005 W",
      description: "akryl na plátne",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_005_W.jpg",
    },
    {
      title: "M.Augustin_23_168 web",
      description: "akryl na plátne",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_168_web.jpg",
    },
    {
      title: "M.Augustin_23_169 web",
      description: "akryl na plátne",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_169_web.jpg",
    },
    {
      title: "M.Augustin_23_250_W",
      description: "akryl na plátne",
      date: "2023",
      image: "tvorba/malba/M.Augustin_23_250_W.jpg",
    },
  ];

  var kresba_active_index = 0;
  var malba_active_index = 0;

  function switchImage(id, data) {
    let con = document.getElementById(id);
    con.classList.toggle("fade-out");
    setTimeout(() => {
      con.children[0].src = "/assets/" + data.image;
      con.children[1].innerText = data.title;
      con.classList.toggle("fade-out");
    }, 500);
    document.getElementById(id + "-description").innerText =
      data.description + " | " + data.date;
  }

  function increaseKresbaActiveIndex() {
    kresba_active_index++;
    if (kresba_active_index >= kresba.length) {
      kresba_active_index = 0;
    }
    switchImage("kresba", kresba[kresba_active_index]);
  }

  function increaseMalbaActiveIndex() {
    malba_active_index++;
    if (malba_active_index >= malba.length) {
      malba_active_index = 0;
    }
    switchImage("malba", malba[malba_active_index]);
  }

  document.getElementById("next-kresba").onclick = () =>
    increaseKresbaActiveIndex();
  document.getElementById("next-malba").onclick = () =>
    increaseMalbaActiveIndex();

  var imgs = document.querySelectorAll(".modal-src");

  for (let i = 0; i < imgs.length; i++) {
    imgs[i].onclick = (img) => {
      showModal(img.target.src, img.target.alt);
    };
  }

  function preloadImage(url) {
    var img = new Image();
    img.src = url;
  }

  function preloadAllImages() {
    for (let i = 0; i < kresba.length; i++) {
      preloadImage("/assets/" + kresba[i].image);
    }
    for (let i = 0; i < malba.length; i++) {
      preloadImage("/assets/" + malba[i].image);
    }
  }
  preloadAllImages();
</script>

<style>
  .item.fade-out > .modal-src {
    transform: translateY(-100%);
  }

  .item > .modal-src {
    transform: translateY(0);
    transition: transform 0.5s;
  }

  .item > h3 {
    opacity: 1;
    transition: opacity 0.5s;
  }

  .item.fade-out > h3 {
    opacity: 0;
  }

  .item > div {
    opacity: 1;
    transition: opacity 0.5s;
  }

  .item.fade-out > div {
    opacity: 0;
  }
</style>
